<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.css" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.js"></script>

<%= link_to "Show a page", "/2.1", 'data-transition' => "pop" %>



<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>

<div id="full-width-background">
  <div class="row">
    <div class="small-1 med-2 large-2 columns">&nbsp;</div>
    
    <!-- Start of outer path container -->
    <div id="outer-path-container" class="small-10 med-8 large-8 columns">
      <div class="row">
        <div class="small-1 med-1 large-1 columns">&nbsp;</div>
        
        <!-- Inner container for decks -->
        <div id="inner-path-container" class="small-10 med-10 large-10 columns small-centered">

          <!-- level 1 -->
          <div class="row">
            <% @decks.each do |deck|%>
              <% if(deck.stage < 2) %>
                <%= link_to user_path_deck_path(:path_id => deck.path.id, :id => deck.id), "data-transition" => "pop" do %>
                  <div id="level-1-deck-<%= @decks.index(deck)+1%>"class="small-12 med-12 -large-12 columns small-centered deck-object"><%= deck.title %></div>
                <% end %>
              <% end %>
            <% end %>
            <div class="small-12 med-12 large-12 columns small-centered deck-object-lock"></div>
          </div>



          <!-- level 2 -->
          <div class="row">
            <div class="small-10 med-10 large-8 columns small-centered">
              <div class= "row">
                <% @decks.each do |deck|%>
                  <% if(deck.stage < 3 && deck.stage > 2) %>
                    <%= link_to user_path_deck_path(:path_id => deck.path.id, :id => deck.id), "data-transition" => "pop" do %>
                    <div id="level-2-deck-<%= @decks.index(deck)+1%>"class="small-4 med-3 large-2 columns small-centered deck-object"><%= deck.title %></div>
                    <% end %>
                  <% end %>
                <% end %>
        <!--         <div id="level-2-deck-1"class="small-4 med-3 large-2 columns small-centered deck-object">lvl 2.1</div>
                <div id="level-2-deck-2"class="small-4 med-3 large-2 columns small-centered deck-object">lvl 2.2</div>
                <div id="level-2-deck-3"class="small-4 med-3 large-2 columns small-centered deck-object">lvl 2.3</div> -->
                <div class="small-12 med-12 -large-12 columns small-centered deck-object-lock"></div>
              </div>
            </div>
          </div>



          <!-- level 3 -->
          <div class="row">
            <% @decks.each do |deck|%>
              <% if(deck.stage < 4 && deck.stage > 3) %>
                <%= link_to user_path_deck_path(:path_id => deck.path.id, :id => deck.id), "data-transition" => "pop" do %>
                  <div id="level-3-deck-<%= @decks.index(deck)%>"class="small-4 med-3 large-2 columns small-centered deck-object"><%= deck.title %></div>
                <% end %>
              <% end %>
            <% end %>
            <div class="small-12 med-12 large-12 columns small-centered deck-object-lock"></div>
          </div>

        </div>
        <div class="small-1 med-1 large-1 columns">&nbsp;</div>
      </div>
    </div>
    <div class="small-1 med-2 large-2 columns">&nbsp;</div>
  </div>
</div>
<%= @decks.length %>
<% @decks.each do |deck|%>
  <%= deck.title if(deck.stage < 3) %>
<% end %>